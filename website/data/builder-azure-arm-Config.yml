source_path: builder/azure/arm/config.go
name: Config
required:
- name: image_publisher
  type: string
  docs: |
    PublisherName for your base image. See
    documentation
    for details.
- name: image_offer
  type: string
  docs: |
    Offer for your base image. See
    documentation
    for details.
- name: image_sku
  type: string
  docs: |
    SKU for your base image. See
    documentation
    for details.
not_required:
- name: capture_name_prefix
  type: string
  docs: |
    Capture
- name: capture_container_name
  type: string
  docs: Capture Container Name
- name: shared_image_gallery
  type: SharedImageGallery
  docs: |
    Use a Shared Gallery
    image
    as the source for this build. VHD targets are incompatible with this build
    type - the target must be a Managed Image.
- name: image_version
  type: string
  docs: |
    Specify a specific version of an OS to boot from.
    Defaults to latest. There may be a difference in versions available
    across regions due to image synchronization latency. To ensure a consistent
    version across regions set this value to one that is available in all
    regions where you are deploying.
- name: image_url
  type: string
  docs: |
    Specify a custom VHD to use. If this value is set, do
    not set image_publisher, image_offer, image_sku, or image_version.
- name: custom_managed_image_resource_group_name
  type: string
  docs: |
    Specify the source
    managed image's resource group used to use. If this value is set, do not
    set image_publisher, image_offer, image_sku, or image_version. If this
    value is set, the value custom_managed_image_name must also be set. See
    documentation
    to learn more about managed images.
- name: custom_managed_image_name
  type: string
  docs: |
    Specify the source managed image's
    name to use. If this value is set, do not set image_publisher,
    image_offer, image_sku, or image_version. If this value is set, the
    value custom_managed_image_resource_group_name must also be set. See
    documentation
    to learn more about managed images.
- name: location
  type: string
  docs: Location
- name: vm_size
  type: string
  docs: |
    Size of the VM used for building. This can be changed
    when you deploy a VM from your VHD. See
    pricing
    information. Defaults to Standard_A1.
- name: managed_image_resource_group_name
  type: string
  docs: Managed Image Resource Group Name
- name: managed_image_name
  type: string
  docs: Managed Image Name
- name: managed_image_storage_account_type
  type: string
  docs: |
    Specify the storage account
    type for a managed image. Valid values are Standard_LRS and Premium_LRS.
    The default is Standard_LRS.
- name: managed_image_os_disk_snapshot_name
  type: string
  docs: |
    If
    managed_image_os_disk_snapshot_name is set, a snapshot of the OS disk
    is created with the same name as this value before the VM is captured.
- name: managed_image_data_disk_snapshot_prefix
  type: string
  docs: |
    If
    managed_image_data_disk_snapshot_prefix is set, snapshot of the data
    disk(s) is created with the same prefix as this value before the VM is
    captured.
- name: managed_image_zone_resilient
  type: bool
  docs: |
    Store the image in zone-resilient storage. You need to create it
    in a region that supports availability zones.
- name: azure_tags
  type: '&{%!s(token.Pos=7288) string %!s(*ast.StarExpr=&{7299 0xc0000f0340})}'
  docs: |
    the user can define up to 15
    tags. Tag names cannot exceed 512 characters, and tag values cannot exceed
    256 characters. Tags are applied to every resource deployed by a Packer
    build, i.e. Resource Group, VM, NIC, VNET, Public IP, KeyVault, etc.
- name: resource_group_name
  type: string
  docs: Resource Group Name
- name: storage_account
  type: string
  docs: Storage Account
- name: temp_compute_name
  type: string
  docs: |
    temporary name assigned to the VM. If this
    value is not set, a random value will be assigned. Knowing the resource
    group and VM name allows one to execute commands to update the VM during a
    Packer build, e.g. attach a resource disk to the VM.
- name: temp_resource_group_name
  type: string
  docs: Temp Resource Group Name
- name: build_resource_group_name
  type: string
  docs: Build Resource Group Name
- name: private_virtual_network_with_public_ip
  type: bool
  docs: |
    This value allows you to
    set a virtual_network_name and obtain a public IP. If this value is not
    set and virtual_network_name is defined Packer is only allowed to be
    executed from a host on the same subnet / virtual network.
- name: virtual_network_name
  type: string
  docs: |
    Use a pre-existing virtual network for the
    VM. This option enables private communication with the VM, no public IP
    address is used or provisioned (unless you set
    private_virtual_network_with_public_ip).
- name: virtual_network_subnet_name
  type: string
  docs: |
    If virtual_network_name is set,
    this value may also be set. If virtual_network_name is set, and this
    value is not set the builder attempts to determine the subnet to use with
    the virtual network. If the subnet cannot be found, or it cannot be
    disambiguated, this value should be set.
- name: virtual_network_resource_group_name
  type: string
  docs: |
    If virtual_network_name is
    set, this value may also be set. If virtual_network_name is set, and
    this value is not set the builder attempts to determine the resource group
    containing the virtual network. If the resource group cannot be found, or
    it cannot be disambiguated, this value should be set.
- name: custom_data_file
  type: string
  docs: |
    Specify a file containing custom data to inject
    into the cloud-init process. The contents of the file are read and injected
    into the ARM template. The custom data will be passed to cloud-init for
    processing at the time of provisioning. See
    documentation
    to learn more about custom data, and how it can be used to influence the
    provisioning process.
- name: plan_info
  type: PlanInformation
  docs: |
    Used for creating images from Marketplace images.
    Please refer to Deploy an image with Marketplace
    terms for more details. Not
    all Marketplace images support programmatic deployment, and support is
    controlled by the image publisher.
- name: os_type
  type: string
  docs: |
    If either Linux or Windows is specified Packer will
    automatically configure authentication credentials for the provisioned
    machine. For Linux this configures an SSH authorized key. For Windows
    this configures a WinRM certificate.
- name: os_disk_size_gb
  type: int32
  docs: |
    Specify the size of the OS disk in GB
    (gigabytes). Values of zero or less than zero are ignored.
- name: disk_additional_size
  type: '&{%!s(token.Pos=11427) <nil> int32}'
  docs: |
    The size(s) of any additional
    hard disks for the VM in gigabytes. If this is not specified then the VM
    will only contain an OS disk. The number of additional disks and maximum
    size of a disk depends on the configuration of your VM. See
    Windows
    or
    Linux
    for more information.
- name: disk_caching_type
  type: string
  docs: |
    Specify the disk caching type. Valid values
    are None, ReadOnly, and ReadWrite. The default value is ReadWrite.
- name: ""
  type: '&{communicator Config}'
  docs: Comm
- name: async_resourcegroup_delete
  type: bool
  docs: |
    If you want packer to delete the
    temporary resource group asynchronously set this value. It's a boolean
    value and defaults to false. Important Setting this true means that
    your builds are faster, however any failed deletes are not reported.
